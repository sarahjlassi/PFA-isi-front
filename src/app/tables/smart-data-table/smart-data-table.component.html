

<div  class="btn1">

  <button type="button" (click)="open(content)" class="btn btn-raised gradient-mint white">

  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
  </svg>
</button>
</div>
<table class="table datatable-responsive">
  
  <thead>
    <tr>
      
      <th>Username</th>
      <th>Email</th>
      <th>Role</th>
      <th class="text-center">Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let Pays of pays">
   
      <td>{{ Pays.username }}</td>
      <td>{{ Pays.email }} </td>
      <td>{{ Pays.roles[0].name}}</td>
      
      
      <td class="text-center">
        <div class="list-icons">
          <div class="dropdown">
      <div>
              <button type="button" class="btn btn-raised btn-round mr-1 btn-danger"  (click)="open2(contentt)"  (click)=" delete(Pays.id)">

            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
              <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
              <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
            </svg>
    
          </button>
        

          <button type="button" class="btn btn-raised btn-round mr-1 btn-success" (click)="open2(contentnew)"  (click)="edit(Pays)">

            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pen" viewBox="0 0 16 16">
              <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001zm-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708l-1.585-1.585z"/>
            </svg>
            
          </button>  
        </div>
        
  
          </div>
        </div>
      </td>
    </tr>

  </tbody>
</table>
<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">New user</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="card my-5">
      <div class="card-body">
       
          <form (ngSubmit)="onSubmit()" [formGroup]="registerForm" #libelleForm="ngForm">
          <div class="form-group">
            <label for="login">Username</label>
            <input type="text" [(ngModel)]="pay.username" 
            class="form-control" 
            id="libelle" 
            name="libelle" 
            formControlName="username"
            placeholder="Enter  username "
            [ngClass]="{ 'is-invalid': submitted && f.username.errors }"
            required>

            <div *ngIf="submitted && f.username.errors" class="invalid-feedback">
              <div *ngIf="f.username.errors.required">Ce champs est obligatoire !</div>
              <div *ngIf="f.username.errors.minlength">le nom de l'utilisateur doit contenir au moins 3 caracteres !</div>

          </div>
        </div>
        <div class="form-group">
          <label for="login">Email </label>
          <input type="email" [(ngModel)]="pay.email" 
          formControlName="email"  [ngClass]="{ 'is-invalid': submitted && f.email.errors }" 
          class="form-control" 
          id="email" 
          name="email" 
          placeholder="Enter  l'email "
          required>

          <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
            <div *ngIf="f.email.errors.required">Ce champs est obligatoire ! </div>
            <div *ngIf="f.email.errors.email">l'email doit etre une adresse email valide !</div>
        </div>
      </div>

      <div class="form-group">
        <label for="login">Password </label>
        <input type="password" [(ngModel)]="pay.password" 
        formControlName="password"  [ngClass]="{ 'is-invalid': submitted && f.password.errors }"
        class="form-control" 
        id="password "
        name="password" 
        placeholder="Enter  un mot de passe  "
        required>
        <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
          <div *ngIf="f.password.errors.required" >Password is required</div>
          <div *ngIf="f.password.errors.minlength">Password must be at least 6 characters</div>
      </div>
    </div>
  








    
       
        <div class="modal-footer">
          <a href="javascript:void(0)" class="btn btn-raised gradient-ibiza-sunset"  (click)="onSubmit()" >Submit</a>
        </div>
      </form>
    </div>
  </div>
  
  </div>
 
</ng-template>

<ng-template #contentt let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Bonjour</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
  </div>
  <div class="modal-body">
    <p>voulez vous supprimer l'utilisateur' ?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="refrech()" (click)="c('Save click')"> oui </button>
  </div>
</ng-template>
  


<ng-template #contentnew let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Modifier un utilisateur</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="card my-5">
      <div class="card-body">
        <form #libelleForm="ngForm" (ngSubmit)="updateStudent(pay.id)">
          <div class="form-group">
            <label for="login">Username </label>
            <input type="text"  
              class="form-control" id="libelle" name="libelle" 
               required [(ngModel)]="pay.username">
          </div>
          <div class="form-group">
            <label for="login">role</label>
            
            <input type="text" [(ngModel)]="pay.roles" placeholder="pay.roles[0].name"
             class="form-control" id="capacite" name="capacite"
              required>
          </div>

          <div class="form-group">
            <label for="login"> email </label>
            <input type="text" [(ngModel)]="pay.email"
             class="form-control" id="capacite" name="capacite"
              required>
          </div>

          <div class="modal-footer">
            <button class="btn btn-raised gradient-ibiza-sunset" type="submit"
              >Submit</button>

             
          </div>
        </form>
      </div>
    </div>

  </div>

</ng-template>

